(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ab31776"],{"72f1":function(t,e,o){},"85c4":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"pa-0 skej-text",staticStyle:{height:"calc(100vh - 56px)"},attrs:{fluid:""}},[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",{staticClass:"scroll-section",attrs:{cols:"12",md:"6",lg:"8"}},[o("div",{staticClass:"section-1"},[o("v-toolbar",{staticClass:"group-toolbar skej-grey-background",attrs:{flat:"",height:"80"}},[o("v-toolbar-title",{staticClass:"ml-4"},[t._v(" "+t._s(t.today)+" ")]),o("v-spacer"),o("div",{staticStyle:{"pointer-events":"auto"},attrs:{id:"color-bar"}},[o("div",{class:["event-color",t.event_colors["type1"],t.active_types.includes("type1")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type1")}}}),o("div",{class:["event-color",t.event_colors["type2"],t.active_types.includes("type2")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type2")}}}),o("div",{class:["event-color",t.event_colors["type3"],t.active_types.includes("type3")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type3")}}}),o("div",{class:["event-color",t.event_colors["type4"],t.active_types.includes("type4")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type4")}}})])],1),o("day-schedule",{attrs:{date:(new Date).toISOString().substring(0,10),events:t.events,active_types:t.active_types,event_colors:t.event_colors,type_colors:t.type_colors,eventTypes:t.eventTypes},on:{"event-updated":function(e){return t.$refs.newItemsWidget.getEvents()}}})],1)]),o("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[o("div",{},[o("v-toolbar",{staticClass:"group-toolbar skej-grey-background flex-none",attrs:{flat:"",height:"80"}},[o("v-toolbar-title",{staticClass:"ml-2"},[t._v(" To Do List ")])],1),o("div",{staticClass:"todolist scroll-section",staticStyle:{"padding-bottom":"150px"}},[o("draggable",t._b({attrs:{list:t.tasks,group:"todolist","ghost-class":"drag-ghost"},on:{change:t.reorderTodoItem}},"draggable",t.dragOptions,!1),t._l(t.tasks,(function(e){return o("div",{key:"task-"+e.priority+"-"+e.name+"-"+e.is_temp,ref:"task-"+e.pk+"-text",refInFor:!0,staticClass:"pa-0 pt-1 grey-divider",on:{click:function(o){return t.setSelectedTask(e)},mouseover:function(o){t.showTaskEditButtons=!0,t.hoveredTask=e},mouseleave:function(e){t.showTaskEditButtons=!1,t.hoveredTask=null}}},[o("v-slide-x-reverse-transition",[o("span",{directives:[{name:"show",rawName:"v-show",value:t.showTaskEditButtons&&t.hoveredTask===e,expression:"showTaskEditButtons && hoveredTask === task"}],staticClass:"float-right"},[o("a",{directives:[{name:"show",rawName:"v-show",value:t.selectedTask===e,expression:"selectedTask === task"}],staticClass:"ma-2 text-decoration-underline",on:{click:t.updateTask}},[t._v("Save")]),o("a",{directives:[{name:"show",rawName:"v-show",value:t.selectedTask===e,expression:"selectedTask === task"}],staticClass:"ma-2 text-decoration-underline grey--text",on:{click:t.clearSelectedTask}},[t._v("Cancel")]),o("v-btn",{staticClass:"float-right px-0 error--text",attrs:{"x-small":"",text:""},on:{click:function(o){return t.deleteTask(e)}}},[o("v-icon",[t._v("mdi-close")])],1),o("v-btn",{staticClass:"float-right px-0 success--text",attrs:{"x-small":"",text:""},on:{click:function(o){return t.taskDone(e)}}},[o("v-icon",[t._v("mdi-check")])],1),o("v-btn",{staticClass:"float-right px-0 grey--text text--darken-1",attrs:{"x-small":"",text:""},on:{click:function(o){return t.setSelectedTask(e)}}},[o("v-icon",[t._v("mdi-information")])],1)],1)]),o("br",{directives:[{name:"show",rawName:"v-show",value:t.selectedTask===e,expression:"selectedTask === task"}]}),t.selectedTask!==e?o("div",{staticClass:"d-flex align-center reorder my-1"},[o("div",{style:"height: 60px; display: inline-block;"},[o("div",{class:["vertical-dash",t.event_colors["type"+e.type]]})]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.active_types.includes("type"+e.type)&&t.selectedTask!==e,expression:"active_types.includes(`type${task.type}`) && selectedTask !== task"}],staticClass:"mx-4"},[t._v(t._s(e.name))])]):t._e(),o("v-slide-x-transition",{attrs:{"hide-on-leave":""}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedTask===e,expression:"selectedTask === task"}],staticClass:"px-2",staticStyle:{"min-height":"80px"}},[o("event-type-color-picker",{attrs:{initialColorIndex:t.todoEditForm.type-1},on:{colorSelected:function(e){return t.setTodoEditTypeInput(e)}}}),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.taskEditFieldButtons.name.showInput,expression:"!taskEditFieldButtons.name.showInput"}],staticClass:"mx-1 clickable",on:{click:function(e){t.taskEditFieldButtons.name.showInput=!0}}},[t._v(t._s(e.name))]),o("v-slide-x-transition",[t.taskEditFieldButtons.name.showInput?o("v-text-field",{staticClass:"pt-0 mx-1 d-inline-block",attrs:{placeholder:"Task name"},model:{value:t.todoEditForm.name,callback:function(e){t.$set(t.todoEditForm,"name",e)},expression:"todoEditForm.name"}}):t._e()],1)],1)])],1)})),0),o("div",{staticStyle:{position:"fixed",bottom:"5px",width:"450px","background-color":"#f3f3ff"}},[o("draggable",{attrs:{list:t.tasks,draggable:".draggable",group:"todolist",move:t.handleMove},on:{end:t.createTodoItem}},[o("div",{key:"new-item-add",staticClass:"d-flex align-center justify-center draggable"},[o("v-icon",{staticClass:"grab"},[t._v("mdi-drag-horizontal-variant")])],1)]),o("event-type-color-picker",{attrs:{initialColorIndex:t.todoForm.type-1},on:{colorSelected:function(e){return t.setTodoTypeInput(e)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todoForm.name,expression:"todoForm.name"}],staticClass:"new-todo-input",attrs:{placeholder:"New list item",type:"text","full-width":"",rounded:"",dense:""},domProps:{value:t.todoForm.name},on:{input:function(e){e.target.composing||t.$set(t.todoForm,"name",e.target.value)}}})],1)],1)],1)])],1),o("new-items-widget",{ref:"newItemsWidget",on:{todoItemCreated:t.getTasks,eventsRetrieved:t.refreshEvents}})],1)},a=[],n=(o("4de4"),o("caad"),o("c975"),o("a434"),o("b0c0"),o("2532"),o("b85c")),i=o("bc3a"),r=o.n(i),l={name:"yourDay",data:function(){return{active_types:["type1","type2","type3","type4"],event_colors:{type1:"cyan",type2:"green",type3:"orange",type4:"red"},type_colors:["cyan","green","orange","red"],eventTypes:["type1","type2","type3","type4"],hours:[],tasks:[],events:[],newTaskPriority:0,newTodoInput:"",todoForm:{name:null,type:1},todoReorderForm:{name:null,priority:null,pk:null},polling:null,taskEditFieldButtons:{name:{name:"name",showInput:!1,text:"Name"},type:{name:"type",showInput:!1,text:"Event Color/Type"}},todoEditForm:{name:null,type:null},selectedTask:null,tempAddModeTask:null,showTaskEditButtons:!1,hoveredTask:null,today:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"drag-ghost"}}},methods:{refreshEvents:function(t){this.events=t},getTasks:function(){var t=this;r.a.get("user/todolist/").then((function(e){t.tasks=e.data;var o,s=Object(n["a"])(t.tasks);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.selectedHeight=60}}catch(i){s.e(i)}finally{s.f()}})).catch((function(t){console.log(t)}))},toggleEventTypeActive:function(t){if(this.active_types.includes(t)){var e=this.active_types.indexOf(t);this.active_types.splice(e,1)}else this.active_types.push(t)},createTodoItem:function(){var t=this;this.todoForm.name&&(this.todoForm.priority=this.newTaskPriority,r.a.post("user/todolist/add/",this.todoForm).then((function(e){for(var o in t.todoForm)t.todoForm[o]=null;t.todoForm.type=1,t.getTasks()})).catch((function(t){console.log(t)})))},updateTask:function(){var t=this;r.a.patch("user/todolist/".concat(this.selectedTask.pk,"/update/"),this.todoEditForm).then((function(e){t.getTasks(),t.clearSelectedTask()})).catch((function(t){console.log(t)}))},taskDone:function(t){var e=this;r.a.patch("user/todolist/".concat(t.pk,"/updatestatus/"),{done:!0}).then((function(t){e.getTasks(),e.clearSelectedTask()})).catch((function(t){console.log(t)}))},deleteTask:function(t){var e=this;r.a.delete("user/todolist/".concat(t.pk,"/delete/")).then((function(t){e.getTasks(),e.clearSelectedTask()})).catch((function(t){console.log(t)}))},handleMove:function(t,e){if(null===this.todoForm.name)return!1;var o=t.draggedContext.futureIndex;this.newTaskPriority=o+1},handleReorderMove:function(t,e){var o=t.draggedContext.futureIndex,s=t.draggedContext.element;this.tasks=this.tasks.filter((function(t){return t.pk!==s.pk})),this.tasks.splice(o,0,s),this.newTaskPriority=o},reorderTodoItem:function(t,e,o){var s=this;if(void 0!==t){var a=t.moved;a&&(a.newIndex<a.oldIndex?a.element.priority=a.newIndex+1:a.element.priority=a.newIndex+2,this.todoReorderForm.name=a.element.name,this.todoReorderForm.priority=a.element.priority,this.todoReorderForm.pk=a.element.pk,r.a.patch("user/todolist/".concat(a.element.pk,"/update/"),this.todoReorderForm).then((function(t){for(var e in s.todoReorderForm)s.todoForm[e]=null;s.getTasks()})).catch((function(t){console.log(t)})))}},setTodoTypeInput:function(t){this.todoForm.type=t+1},setTodoEditTypeInput:function(t){this.todoEditForm.type=t+1},setSelectedTask:function(t){var e=this;this.selectedTask=t,this.todoEditForm.name=t.name,this.todoEditForm.type=t.type,this.todoEditForm.done=!1,this.taskEditFieldButtons.type.showInput=!0,setTimeout((function(){var o=e.$refs["task-".concat(t.pk,"-text")][0].clientHeight;e.selectedTask.displayHeight=o,t.selectedHeight=e.selectedTask.displayHeight,e.$forceUpdate()}),10)},clearSelectedTask:function(){if(null!==this.selectedTask)for(var t in this.selectedTask.selectedHeight=60,this.selectedTask=null,this.taskEditFieldButtons.name.showInput=!1,this.taskEditFieldButtons.type.showInput=!1,this.todoEditForm)this.todoEditForm[t]=null}},mounted:function(){this.getTasks()}},c=l,d=(o("8caf"),o("2877")),u=o("6544"),p=o.n(u),v=o("8336"),h=o("62ad"),m=o("a523"),k=o("132d"),y=o("0fd9"),g=o("0789"),f=o("2fa4"),T=o("8654"),w=o("71d9"),x=o("2a7f"),_=Object(d["a"])(c,s,a,!1,null,"0bfb2c76",null);e["default"]=_.exports;p()(_,{VBtn:v["a"],VCol:h["a"],VContainer:m["a"],VIcon:k["a"],VRow:y["a"],VSlideXReverseTransition:g["d"],VSlideXTransition:g["e"],VSpacer:f["a"],VTextField:T["a"],VToolbar:w["a"],VToolbarTitle:x["a"]})},"8caf":function(t,e,o){"use strict";var s=o("72f1"),a=o.n(s);a.a}}]);
//# sourceMappingURL=chunk-7ab31776.98b2da9f.js.map