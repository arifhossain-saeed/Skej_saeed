(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-684e4c7e"],{"0eb5":function(t,e,a){},"66f3":function(t,e,a){},"77e5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"skej-grey-background m-calendar-page"},[a("v-container",{staticClass:"pt-0 skej-grey-background",attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"section-1 scroll-section pa-0"},[a("v-sheet",{staticClass:"month pb-1 skej-grey-background"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"1"}},[a("v-list",{staticClass:"mt-12 pt-5 skej-grey-background d-none d-sm-inline-block"},t._l(t.wkStartDates,(function(e){return a("v-list-item",{key:"wk-btn-"+e,staticClass:"px-1 week-button",staticStyle:{width:"60px"},attrs:{to:{name:"week_calendar",params:Object.assign({},t.$route.params),query:Object.assign({},t.$route.query,{startDate:e})}}},[a("v-btn",{staticClass:"ml-auto",attrs:{color:"default",fab:"",tile:"",small:"",text:""}},[a("v-icon",[t._v("mdi-calendar-week")])],1)],1)})),1)],1),a("v-col",{staticClass:"pt-0",attrs:{cols:"12",sm:"11"}},[a("v-sheet",{staticClass:"pt-1 skej-grey-background",attrs:{id:"calendar-wrap"}},[a("v-toolbar",{staticClass:"skej-grey-background",attrs:{id:"calendar-toolbar",flat:"",dense:""}},[a("v-spacer"),a("v-toolbar-title",[a("h4",{staticClass:"font-weight-medium"},[a("span",{staticClass:"clickable",on:{click:function(e){t.showMonthPicker=!t.showMonthPicker}}},[t._v(t._s(t.displayMonth))]),t._v(" "),a("span",{staticClass:"clickable",on:{click:function(e){t.showYearPicker=!t.showYearPicker}}},[t._v(t._s(t.year))])])]),a("v-spacer"),a("div",{attrs:{id:"color-bar"}},[a("div",{class:["event-color",t.event_colors["type1"],t.active_types.includes("type1")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type1")}}}),a("div",{class:["event-color",t.event_colors["type2"],t.active_types.includes("type2")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type2")}}}),a("div",{class:["event-color",t.event_colors["type3"],t.active_types.includes("type3")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type3")}}}),a("div",{class:["event-color",t.event_colors["type4"],t.active_types.includes("type4")?"":"inactive"],on:{click:function(e){return t.toggleEventTypeActive("type4")}}})]),a("v-btn",{staticClass:"ml-5",attrs:{text:"",color:"rgba(0, 0, 0, 0.54)"},on:{click:function(e){e.stopPropagation(),t.drawer_right=!t.drawer_right}}},[t._v(" List "),a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{right:""}},[t._v("mdi-menu")])],1)],1),a("month-year-picker",{attrs:{showMonthPicker:t.showMonthPicker,showYearPicker:t.showYearPicker,calendarFocus:t.focus},on:{yearChanged:function(e){return t.updateYear(e)},monthChanged:function(e){return t.updateMonth(e)}}}),a("v-calendar",{ref:"calendar",attrs:{type:"month",events:t.events,"event-overlap-mode":"column","event-color":t.getEventColour,"event-more":!1,locale:t.$i18n.locale+"-"+t.localStorage.country,"show-month-on-first":!1},on:{change:t.updateRange,"click:date":function(e){return t.setFocus(e)}},scopedSlots:t._u([{key:"day",fn:function(e){var n=e.date,s=e.week;return[a("div",{staticClass:"d-flex",staticStyle:{height:"70%"},attrs:{"data-week-start":t.setWeekStart(s)}},[t._l(t.getAllDayEvent(n),(function(e){return a("div",{key:n+"-"+e.allDay,staticClass:"d-flex all-day-event-frame align-self-start align-center"},[a("div",{class:["vertical-dash","mx-1",t.event_colors[e.type]]}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.active_types.includes("type"+e.type),expression:"active_types.includes(`type${e.type}`)"}],staticClass:"event-month-calendar-text"},[t._v(t._s(e.name)+" ")])])})),a("div",{staticStyle:{position:"absolute",width:"100%",bottom:"2px"}},t._l(t.eventColorsToDisplay(n),(function(e,s){return a("v-row",{key:n+"-"+s,staticClass:"px-2",attrs:{dense:""}},t._l(e,(function(t){return a("v-col",{key:n+"-"+s+"-"+t,staticStyle:{"padding-top":"0px","padding-bottom":"1px"},attrs:{cols:"6"}},[a("div",{class:[t,"event-dash"]})])})),1)})),1)],2)]}},{key:"interval",fn:function(){return[a("p",[t._v("interval")])]},proxy:!0}]),model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}})],1)],1)],1)],1),a("div",{staticClass:"pt-1 pl-12"},[a("h3",{staticClass:"mb-6 text--disabled font-weight-medium"},[t._v("Upcoming Events")]),t._l(t.upcomingEvents,(function(e,n){return a("div",{key:"upcoming"+n,staticClass:"d-flex pr-7 my-2",staticStyle:{height:"50px"}},[a("div",{class:["vertical-dash","mx-1",t.event_colors["type"+e.type]]}),a("v-card",{staticClass:"mr-4 d-inline skej-grey-background",attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"font-weight-medium"},[t.active_types.includes("type"+e.type)?a("span",[t._v(t._s(e.eventName))]):t._e()])],1),a("v-spacer"),a("v-card",{staticClass:"d-inline skej-grey-background my-2",attrs:{flat:"",tile:""}},[a("v-card-text",{staticClass:"text--disabled"},[t._v(t._s(e.start)+" | "+t._s(e.end))])],1)],1)}))],2)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.drawer_right,expression:"drawer_right"}],staticClass:"selected-day-section scroll-section",attrs:{cols:"12",md:"4"}},[a("h3",{staticClass:"text-center font-weight-medium"},[t._v(t._s(t.focusDateLong))]),a("day-schedule",{attrs:{date:this.focus,events:t.eventsCopyForDay,active_types:t.active_types,event_colors:t.event_colors,type_colors:t.type_colors,eventTypes:t.eventTypes},on:{"event-updated":function(e){return t.$refs.newItemsWidget.getEvents()}}})],1)],1)],1),a("new-items-widget",{ref:"newItemsWidget",on:{eventsRetrieved:t.refreshEvents}})],1)},s=[],r=(a("99af"),a("caad"),a("c975"),a("fb6a"),a("a434"),a("b0c0"),a("ac1f"),a("2532"),a("1276"),a("2909")),i=a("b85c"),c={name:"calendar",data:function(){return{start:null,end:null,focus:(new Date).toISOString().substring(0,10),year_month:(new Date).toISOString().substring(0,7),year:(new Date).getFullYear(),month:(new Date).getMonth(),events:[],eventsCopyForDay:[],days:{},active_types:["type1","type2","type3","type4"],event_colors:{type1:"cyan",type2:"green",type3:"orange",type4:"red"},type_colors:["cyan","green","orange","red"],eventTypes:["type1","type2","type3","type4"],upcomingEvents:[],wkStartDates:[],intervals:[],showMonthPicker:!1,showYearPicker:!1,day_start:7,polling:null,drawer_right:!0}},computed:{title:function(){var t=this.start,e=this.end;if(!t||!e)return"";var a=this.monthFormatter(t),n=t.year;return"".concat(a," ").concat(n)},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})},displayMonth:function(){var t=this.start,e=this.end;if(!t||!e)return"";var a=this.monthFormatter(t);return a},focusDateLong:function(){var t=new Date,e=new Date("".concat(this.focus,"T").concat(t.toISOString().split("T")[1]));return e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}},methods:{setToday:function(){this.focus=this.today},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},nth:function(t){return t>3&&t<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][t%10]},buildDaysArray:function(){var t,e=this.getDatesInRange(new Date(this.start.date),new Date(this.end.date)),a=Object(i["a"])(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.days[n]=[]}}catch(s){a.e(s)}finally{a.f()}},updateRange:function(t){var e=t.start,a=t.end;this.wkStartDates=[],this.start=e,this.end=a,this.updateEvents()},updateEvents:function(){this.buildDaysArray();var t,e=Object(i["a"])(this.events);try{for(e.s();!(t=e.n()).done;){var a,n=t.value,s=new Date(n.start.split(" ")[0]),r=new Date(n.start.split(" ")[0]),c=this.getDatesInRange(s,r),o=Object(i["a"])(c);try{for(o.s();!(a=o.n()).done;){var l=a.value;l in this.days&&(this.days[l].includes(n)||this.days[l].push(n))}}catch(u){o.e(u)}finally{o.f()}}}catch(u){e.e(u)}finally{e.f()}this.getUpcomingEvents()},getUpcomingEvents:function(){this.upcomingEvents=[];var t=new Date,e=3;this.events.sort((function(t,e){return t.start>e.start?1:-1}));var a,n=Object(i["a"])(this.events);try{for(n.s();!(a=n.n()).done;){var s=a.value,r=Date.parse(s.start);if(r>=t){if(!(this.upcomingEvents.length<e))return;this.upcomingEvents.includes(s)||this.upcomingEvents.push(s)}}}catch(c){n.e(c)}finally{n.f()}},rnd:function(t,e){return Math.floor((e-t+1)*Math.random())+t},getEventColour:function(t){return t.color},getDatesInRange:function(t,e){var a=[],n=!1;while(!n){var s=t;s.setDate(s.getDate()+1),a.push(this.formatDate(new Date(s),!0).split(" ")[0]),s>=e&&(n=!0)}return a},formatDate:function(t,e){return e?"".concat(t.getFullYear(),"-").concat(("0"+(t.getMonth()+1)).slice(-2),"-").concat(("0"+t.getDate()).slice(-2)," ").concat(t.getHours(),":").concat(("0"+t.getMinutes()).slice(-2)):"".concat(t.getFullYear(),"-").concat(("0"+(t.getMonth()+1)).slice(-2),"-").concat(("0"+t.getDate()).slice(-2))},eventColorsToDisplay:function(t){var e=[];if(!(t in this.days))return[];var a,n=this.days[t],s=Object(i["a"])(n);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.allDay||!e.includes(this.event_colors["type".concat(r.type)])&&e.length<4&&e.push(this.event_colors["type".concat(r.type)])}}catch(d){s.e(d)}finally{s.f()}for(var c=[],o=[],l=[],u=0;u<e.length;u++){var v=e[u];u<2?o.push(v):l.push(v)}return l.length&&c.push(l),o.length&&c.push(o),c},getAllDayEvent:function(t){var e=[];if(!(t in this.days))return[];var a,n=this.days[t],s=Object(i["a"])(n);try{for(s.s();!(a=s.n()).done;){var r=a.value;if(r.allDay)return e.push(r),e}}catch(c){s.e(c)}finally{s.f()}return[]},setWeekStart:function(t){var e=t[0].date;return this.wkStartDates.includes(e)||this.wkStartDates.push(e),e},toggleEventTypeActive:function(t){if(this.active_types.includes(t)){var e=this.active_types.indexOf(t);this.active_types.splice(e,1)}else this.active_types.push(t)},setFocus:function(t){this.focus=t.date},updateMonth:function(t){var e=this;this.month=t;var a=new Date(this.focus);a.setMonth(this.month),this.focus=a.toISOString().substring(0,10),setTimeout((function(){e.showMonthPicker=!1}),500)},updateYear:function(t){var e=this;this.year=t;var a=new Date(this.focus);a.setYear(this.year),this.focus=a.toISOString().substring(0,10),setTimeout((function(){e.showYearPicker=!1}),500)},refreshEvents:function(t){this.events=t,this.eventsCopyForDay=Object(r["a"])(t),this.processEvents(),this.updateEvents()},processEvents:function(){var t,e=Object(i["a"])(this.events);try{for(e.s();!(t=e.n()).done;){var a=t.value,n=new Date(a.eventStart),s=new Date(a.eventEnd);a.start=this.formatDate(n,!0),a.end=this.formatDate(s,!0),a.name=a.eventName}}catch(r){e.e(r)}finally{e.f()}}},mounted:function(){}},o=c,l=(a("c26e"),a("c1fc"),a("2877")),u=a("6544"),v=a.n(u),d=a("8336"),h=a("a4f6"),p=a("b0af"),y=a("99d9"),f=a("62ad"),g=a("a523"),m=a("132d"),w=a("8860"),k=a("da13"),_=a("0fd9"),b=a("8dd9"),D=a("2fa4"),C=a("71d9"),S=a("2a7f"),x=Object(l["a"])(o,n,s,!1,null,"645752d2",null);e["default"]=x.exports;v()(x,{VBtn:d["a"],VCalendar:h["a"],VCard:p["a"],VCardText:y["c"],VCol:f["a"],VContainer:g["a"],VIcon:m["a"],VList:w["a"],VListItem:k["a"],VRow:_["a"],VSheet:b["a"],VSpacer:D["a"],VToolbar:C["a"],VToolbarTitle:S["a"]})},c1fc:function(t,e,a){"use strict";var n=a("0eb5"),s=a.n(n);s.a},c26e:function(t,e,a){"use strict";var n=a("66f3"),s=a.n(n);s.a}}]);
//# sourceMappingURL=chunk-684e4c7e.5abf6ea5.js.map